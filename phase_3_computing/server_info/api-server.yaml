# M7i-flex Instance - Memory optimized workload (API Server)
name: api-server
instance_type: m7i-flex.large
instance_count: 1 # 수평확장 가능성을 염두에 두고 설계

# Team tag
team: backend

# Monitoring
monitoring: true
ebs_optimized: true

# Root volume configuration (볼륨 사이즈/성능만 설정 가능, 암호화/타입은 main.tf에서 강제)
root_block_device:
  - volume_size: 50
    iops: 3000
    throughput: 125

# Instance tags
instance_tags:
  Name: api-server
  Workload: api
  InstanceFamily: memory-optimized


alb:
  enabled: true
  name: api-server-alb
  internal: false
  allow_cidrs:
    - 58.230.96.166/32
